<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>대탁 점수 기록</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>

  <!-- 상단 헤더: 왼쪽 제목 / 오른쪽 뷰 전환 -->
  <div class="top-bar">
    <h1>25/11/29 대탁 점수 기록
    </h1>
  </div>

  <!-- ================= 개인 레이팅 화면 ================= -->
  <!-- ⬇⬇ 여기 main-layout에 equal-layout 클래스 추가됨 -->
  <div id="personal-view" class="view">
    <div class="main-layout equal-layout">
      <!-- 왼쪽: 입력 + 게임 데이터 + 규칙 -->
      <div class="left-panel">
        <!-- 입력 폼 -->
        <section class="form-panel">
          <h2>대국 기록 입력</h2>
          <form id="game-form" method="post" autocomplete="off">
            <div class="row">
              <label>P1(동)</label>
              <input name="player1_name" placeholder="플레이어 1 이름" required>
              <input name="player1_score"
                    type="text"
                    inputmode="decimal"
                    pattern="-?[0-9]*"
                    placeholder="점수"
                    required>
            </div>
            <div class="row">
              <label>P2(남)</label>
              <input name="player2_name" placeholder="플레이어 2 이름" required>
              <input name="player2_score"
                    type="text"
                    inputmode="decimal"
                    pattern="-?[0-9]*"
                    placeholder="점수"
                    required>
            </div>
            <div class="row">
              <label>P3(서)</label>
              <input name="player3_name" placeholder="플레이어 3 이름" required>
              <input name="player3_score"
                    type="text"
                    inputmode="decimal"
                    pattern="-?[0-9]*"
                    placeholder="점수"
                    required>
            </div>
            <div class="row">
              <label>P4(북)</label>
              <input name="player4_name" placeholder="플레이어 4 이름" required>
              <input name="player4_score"
                    type="text"
                    inputmode="decimal"
                    pattern="-?[0-9]*"
                    placeholder="점수"
                    required>
            </div>
            <button type="submit">저장</button>
          </form>
        </section>

        <!-- 대국 기록 + CSV -->
        <section class="games-panel">
          <div class="games-header">
            <h2>대국 기록</h2>
            <div class="games-header-right">
              <a href="/export" class="export-link">CSV 내보내기</a>
              <a href="/import" class="import-link">CSV 업로드</a>
            </div>
          </div>

          <table class="games-table">
            <thead>
              <tr>
                <th>ID</th>
                <th>시간</th>
                <th>P1</th>
                <th>P2</th>
                <th>P3</th>
                <th>P4</th>
                <th></th>
              </tr>
            </thead>
            <tbody id="games-tbody">
            </tbody>
          </table>
        </section>

        <!-- 룰 안내 -->
        <section class="rule-panel">
          <h2>규칙</h2>
          <ul>
            <li>작혼룰</li>
          </ul>
        </section>
      </div>

      <!-- 오른쪽: 개인 전체 등수 -->
      <div class="right-panel">
        <section class="ranking-panel">
          <div class="ranking-header">
            <h2>전체 등수</h2>
            <div class="rank-legend">
              <span class="legend-color legend1"></span><span class="legend-text">1등</span>
              <span class="legend-color legend2"></span><span class="legend-text">2등</span>
              <span class="legend-color legend3"></span><span class="legend-text">3등</span>
              <span class="legend-color legend4"></span><span class="legend-text">4등</span>
            </div>
          </div>

          <table class="ranking-table">
            <thead>
              <tr>
                <th>순위</th>
                <th>이름</th>
                <th>게임 수</th>
                <th>총 pt</th>
                <th>연대율</th>
                <th>등수 분포</th>
              </tr>
            </thead>
            <tbody id="ranking-tbody">
              <tr>
                <td colspan="6" class="ranking-placeholder">통계 없음</td>
              </tr>
            </tbody>
          </table>
        </section>
      </div>
    </div>
  </div>

  <script src="{{ url_for('static', filename='script.js') }}"></script>
</body>
</html>
